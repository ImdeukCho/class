<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript">

	var itemList = [];
	window.onload = function() {
		var addBtr = document.querySelector("#add");
		addBtr.addEventListener("click", addList);	
	} 
	
	function addList() {
		var item = document.querySelector("#item").value;
		if (item != null) {
			itemList.push(item);	
			document.querySelector("#item").value = ""; 
			document.querySelector("#item").focus();	
		}
		showList();
		console.log(itemList);
	} 	
	
	function showList() {
		var list = "<ul>";
		for (var i = 0; i < itemList.length; i++) {
			console.log(itemList[i]);
			list += "<li>" + itemList[i] + "&nbsp;<span class='close' id=" + i + ">X</span> </li>"; 
			   // <span class='close' id="i">X</span>, 고구마X id=0, 감자X id=1
		}
		list += "</ul>";
		console.log(list);
		document.querySelector("#itemList").innerHTML = list;
		
		////////////
		var remove = document.querySelectorAll(".close");
		for (var i = 0; i < remove.length; i++) {
			remove[i].addEventListener("click", removeList)			
		}
	}
	///////////
	function removeList() {
		var id = this.id;
		console.log("remove List id===="+ id);
		itemList.splice(id, 1);	// id 번호 중 1개 삭제
		showList();	// 다시 전체 출력
	}
</script>
</head>
<body>
	<input type="text" id="item" autofocus>
	<button type="button" id="add" class="button">추가</button><br>
	<div id="itemList"></div>
</body>
</html>