<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript">

// querySelector(하나), querySelectorAll(여러개) : css 선택자를 그대로 사용할수있다
	window.onload = function() {
		
		document.querySelector("#allCheck").addEventListener("click", check, false);
		document.querySelector("#test").addEventListener("click",view,false);	
	}
	function check() {
		var fruits = document.querySelectorAll(".fruits");
		for (var i = 0; i < fruits.length; i++) {
			fruits[i].checked = this.checked;	// this = allcheck
		}
	}
	function view() {
		var fruits = document.querySelectorAll(".fruits:checked");	// .fruits:checked - checked된 애들만 선택
		console.log(fruits);
		var result = "";
		var fu = "";
		for (var i = 0; i < fruits.length; i++) {
			// if(fruits[i].checked){  // 위에서 ".fruits:checked" 사용하여 체크된 태그만 선택하게 했으므로 , if문으로 체크됬는지 확인 불필요
				fu=fruits[i];
				result += fu.value + "&nbsp;&nbsp;&nbsp;";
			// }
		}
		console.log(result);
		document.querySelector("#result").innerHTML=result; // html 태그 포함시
	}

</script>
</head>
<body>

	전체선택<input type="checkbox" name="allCheck" id="allCheck"><br>
	<hr>
	사과<input type="checkbox" name="fruits" class="fruits" value="사과"><br>
	수박<input type="checkbox" name="fruits" class="fruits" value="수박"><br>
	바나나<input type="checkbox" name="fruits" class="fruits" value="바나나"><br>
	오렌지<input type="checkbox" name="fruits" class="fruits" value="오렌지"><br>
	<button id="test"> 확인</button><br>
	<span id="result"> </span>
	
</body>
</html>